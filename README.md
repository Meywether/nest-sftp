<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="data:image/jpeg;base64,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" width="320" alt="SFTP Logo" /></a>
</p>

# NEST SFTP

## Description

[Nest](https://github.com/nestjs/nest) framework module wrapper around [ssh2-sftp-client](https://github.com/jyu213/ssh2-sftp-client)

## Installation

```bash
$ npm install --save nest-sftp
```

## Register in AppModule

```typescript
import { SftpModule } from 'nest-sftp';

@Module({
  imports: [SftpModule.forRoot({ host: 'fakehost.com', port: 20000 })],
  controllers: [],
  providers: [],
})
export class AppModule {}
```

## Dependency Inject Service

The SftpModule is global. The forRoot() method will open the connection as well during AppModule registration.
Then the SftpClientService can be injected into your class.

```typescript
import { SftpClientService } from 'nest-sftp';

export class AppService {
  private readonly logger: Logger;
  constructor(private readonly sftpClient: SftpClientService) {
    logger = new Logger();
  }

  async download(
    remotePath: string,
    localPath: string,
  ): Promise<string | NodeJS.ReadableStream | Buffer> {
    return await this.sftpClient.download(remotePath, localPath);
  }
}
```

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Benjamin Main](mailto::bmain@lumeris.com)

## License

Nest SFTP is [MIT licensed](LICENSE).
